(this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]=this["webpackJsonp@ibm-watson/visual-recognition-code-pattern"]||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"b":"Encontrando Nemo","a":"Use esta ferramenta para identificar qual esp\xe9cie de peixe voc\xea pescou!"}')},18:function(e,t,a){},26:function(e){e.exports=JSON.parse('[{"url":"/images/classify/small/PintadoT.jpg","alt":"PintadoT"},{"url":"/images/classify/small/TambaquiT.jpg","alt":"TambaquiT"},{"url":"/images/classify/small/DouradoT.jpg","alt":"DouradoT"}]')},27:function(e){e.exports=JSON.parse('[{"classifier_id":"default","name":"default","classes":[{"class":"Nemo","score":1}],"display":"General Model","description":"Quickly understand objects, actions, scenes, and colors within an image."},{"classifier_id":"food","name":"food","classes":[{"class":"non-food","score":0.998}],"display":"Food Model","description":"Identify meals and food items with enhanced accuracy."},{"classifier_id":"explicit","name":"explicit","classes":[{"class":"not explicit","score":0.991}],"display":"Explicit Model","description":"Determine if an image contains nudity or other inappropriate content."}]')},34:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(20),r=a.n(o),c=(a(18),a(51)),s=a(44),l=a(30),m=a.n(l),u=a(29),d=a.n(u),p=a(28),f=a.n(p),g=function(e){Object(n.useEffect)((function(){var t=document.createElement("script");return t.src=e,t.async=!0,document.body.appendChild(t),function(){document.body.removeChild(t)}}),[e])},E=a(48),v=function(e){var t=e.description,a=e.links,n=e.title;return i.a.createElement(E.b,{className:"header"},i.a.createElement("div",{className:"title-container"},i.a.createElement("h2",{className:"header-title"},n),i.a.createElement("p",null,t)),i.a.createElement("div",{className:"link-container"},i.a.createElement("div",{className:"link-wrapper"},a.map((function(e){return e})))))};v.defaultProps={description:"",links:[],title:""};var h=v,b=a(15),y=a.n(b),N=a(22),k=a(4),w=function(e){var t=e.images,a=e.onClick;return t.map((function(e,t){return i.a.createElement("div",{key:t,className:"image-picker--section__tile"},i.a.createElement(E.a,{id:"tile-".concat(t),handleClick:function(){a(t)}},i.a.createElement("img",{className:"image-picker--section__image",src:e.url,alt:e.alt})))}))},j=function(e){var t=e.loadingMessage;return i.a.createElement("span",{className:"loader"},i.a.createElement("div",{className:"loader-container"},i.a.createElement("div",{className:"loader-dots"}),t?i.a.createElement("div",{className:"loader-message"},i.a.createElement("p",{className:"ibm-type-a"},t)):null))};j.defaultProps={loadingMessage:null};var _=j,S=a(31),O=a(24),C=a.n(O),x=function(e){var t=e.onUpload;return i.a.createElement("div",{className:"image-picker--section__tile"},i.a.createElement(E.a,{id:"123",handleClick:function(){}},i.a.createElement(S.a,{multiple:!1,onDrop:function(e){t(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("div",Object.assign({},t(),{className:"upload-image"}),i.a.createElement("input",a()),i.a.createElement(C.a,null),i.a.createElement("p",{className:"upload-text"},"Selecione ou arraste uma imagem"))}))))},P=function(e){var t=e.showLoader,a=e.viewerImage,n=e.pickerImages,o=e.onSelectTile,r=e.onUpload;return i.a.createElement("div",{className:"main-image-picker__container"},i.a.createElement("div",{className:"main-image-picker"},i.a.createElement("div",null,i.a.createElement("img",{className:"main-image-picker__image",src:a,alt:"main"}),t?i.a.createElement(_,null):null)),i.a.createElement("div",{className:"image-selection__container"},i.a.createElement("div",{className:"image-picker__tiles"},i.a.createElement(w,{images:n,onClick:function(e){o(e)}}),i.a.createElement(x,{onUpload:function(e){r(e)}}))))};P.defaultProps={viewerType:"image"};var T=P,D=function(e){var t=e.images,a=e.onSubmitImage,o=e.handleUnsupportedFormats,r=e.isClassifying,c="";t[0]&&t[0].url&&(c=t[0].url);var s=Object(n.useState)(c),l=Object(k.a)(s,2),m=l[0],u=l[1];return i.a.createElement(E.b,{className:"input-container"},i.a.createElement("h4",{className:"container-title"},"Envie a foto do seu peixe ou selecione uma imagem abaixo"),i.a.createElement(T,{showLoader:r,viewerImage:m,pickerImages:t,onSelectTile:function(e){!function(e){var n=t[e].url;a({image_file:n}),u(n)}(e)},onUpload:function(e){!function(e){var t=e[0];if(["image/gif","image/png","image/jpg","image/jpeg"].includes(t.type)){var n=new FileReader;n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;u(e),a({image_data:e})},n.readAsDataURL(t)}else o()}(e)}}))},I=a(53),B=a(49),M=a(52);function F(e){var t,a=e.progress;return i.a.createElement("div",{className:"bar-container"},i.a.createElement("div",{className:"bar-full"},i.a.createElement("div",{className:"bar",style:{width:"".concat((t=a,Math.abs(Math.round(100*t))),"%")}})),i.a.createElement("div",{className:"progress"},function(e){return(Math.round(100*e)/100).toFixed(2)}(a)))}F.defaultProps={progress:0};var R=F,U=a(25),J=a.n(U),A=function(e){var t=e.classifyResults,a=Object(n.useState)("table"),o=Object(k.a)(a,2),r=o[0],c=o[1];return i.a.createElement(E.b,{className:"output-container"},i.a.createElement("h3",{className:"output-container__title"},"Resultado"),i.a.createElement("div",{className:"output-container__control-panel"},i.a.createElement(I.a,{className:"output-container__content-switch",onChange:function(e){c(e.name)},selectedIndex:"table"===r?0:1})),i.a.createElement(B.a,{legendText:""},"table"===r?i.a.createElement(M.a,null,i.a.createElement("div",{className:"output-container__accordian-header"},i.a.createElement("p",null,"Esp\xe9cie"),i.a.createElement("p",null,"Score")),t.map((function(e){return i.a.createElement("div",{key:e.class,className:"output-container__accordian-item"},i.a.createElement("p",null,e.class),i.a.createElement(R,{progress:e.score}))}))):i.a.createElement(J.a,{name:!1,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,collapsed:2,collapseStringsAfterLength:20,theme:"monokai",style:{lineHeight:"1.3em"},src:t})))};A.defaultProps={classifyResults:null};var G=A,q=a(50),H=function(e){var t=e.caption,a=e.children,o=e.className,r=e.hideAfterFirstDisplay,c=e.hideCloseButton,s=e.iconDescription,l=e.kind,m=e.lowContrast,u=e.onCloseButtonClick,d=e.role,p=e.subtitle,f=e.timeout,g=e.title,E=Object(n.useState)(),v=Object(k.a)(E,2),h=v[0],b=v[1],y=Object(n.useState)(!1),N=Object(k.a)(y,2),w=N[0],j=N[1];return Object(n.useEffect)((function(){b(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15))}),[]),Object(n.useEffect)((function(){var e=document.querySelector(".custom-toast-".concat(h));e&&(e.className+="enter")}),[h]),Object(n.useEffect)((function(){r&&void 0!==typeof window&&void 0!==typeof window.localStorage&&"true"===window.localStorage.getItem("notificationHasBeenSeen")&&j(!0)}),[r]),w?null:i.a.createElement(q.a,{caption:t,className:"custom-toast-".concat(h," ").concat(o),hideCloseButton:c,iconDescription:s,kind:l,lowContrast:m,onCloseButtonClick:function(){r&&void 0!==typeof window&&void 0!==typeof window.localStorage&&window.localStorage.setItem("notificationHasBeenSeen","true"),u()},role:d,subtitle:p,timeout:f,title:g},a)};H.defaultProps={caption:"",children:null,className:"",hideAfterFirstDisplay:!0,hideCloseButton:!1,iconDescription:"closes notification",kind:"error",lowContrast:!1,onCloseButtonClick:function(){},role:"alert",subtitle:"",timeout:0,title:""};var L=H,W=a(26),z=a(27),Q=function(){var e,t=Object(n.useState)(!1),a=Object(k.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(z),s=Object(k.a)(c,2),l=s[0],m=s[1],u=Object(n.useState)(null),d=Object(k.a)(u,2),p=d[0],f=d[1],g=function(){var e=Object(N.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!0),fetch("/api/classify",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?f(e.error):m(e.result.images[0].classifiers)})).catch((function(e){f({title:e.message,description:e.message})})).finally((function(){return r(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"service-container"},i.a.createElement(L,{kind:"info",subtitle:"This system is for demonstration purposes only and is not intended to process Personal Data. No Personal Data is to be entered into this system as it may not have the necessary controls in place to meet the requirements of the General Data Protection Regulation (EU) 2016/679."}),p&&i.a.createElement(L,{kind:"error",title:p.title,subtitle:p.description,hideAfterFirstDisplay:!1,timeout:5e3,onCloseButtonClick:function(){return f(null)}}),i.a.createElement(D,{onSubmitImage:function(e){g(e)},isClassifying:o,images:W,handleUnsupportedFormats:function(){f({title:"Invalid file format:",description:"Only JPGs, PNGs, and GIFs are supported"})}}),i.a.createElement(G,{classifyResults:(e=l,e[0].classes.sort((function(e,t){return t.score-e.score})).slice(0,10))}))},V=a(16),$=[i.a.createElement(c.a,{className:"link",key:"github-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/iarapasbrandao/VR_EncontrandoNemo"},i.a.createElement("p",{className:"link-text"},"GitHub"),i.a.createElement(f.a,{className:"link-icon"})),i.a.createElement(c.a,{className:"link getting-started",key:"ibm-cloud-link",target:"_blank",rel:"noopener noreferrer",href:"https://guiadopeixe.com.br/receitas/"},i.a.createElement(s.a,{className:"link-button",kind:"tertiary",renderIcon:d.a},"Como preparar seu peixe"),i.a.createElement(m.a,{className:"link-icon"}))],K=function(){return g("https://cdn.jsdelivr.net/gh/watson-developer-cloud/watson-developer-cloud.github.io@master/analytics.js"),i.a.createElement("div",{className:"app-container"},i.a.createElement(h,{description:V.a,links:$,title:V.b}),i.a.createElement(Q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.4c816b58.chunk.js.map